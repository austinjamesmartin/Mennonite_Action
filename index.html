<!DOCTYPE html>
<html>
<head>
    <title>All God's Children March for a Ceasefire</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map {
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Initialize the map
        var map = L.map('map').setView([38.73614, -77.9391], 9);

        // Add a tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Define a custom icon that is larger
        var customIcon = L.icon({
            iconUrl: 'https://cdn-icons-png.flaticon.com/512/209/209158.png', // Flaticon dove icon
            iconSize: [60, 98], // larger size of the icon
            iconAnchor: [30, 98], // point of the icon which will correspond to marker's location
            popupAnchor: [0, -98] // point from which the popup should open relative to the iconAnchor
        });

        // Add markers
        var markers = [
            { coords: [38.44947, -78.86848], popup: "Harrisonburg" },
            { coords: [38.5909, -78.71756], popup: "Day 2" },
            { coords: [38.6443, -78.5475], popup: "Day 3" },
            { coords: [38.6563, -78.3411], popup: "Day 4" },
            { coords: [38.6941, -78.1701], popup: "Day 5" },
            { coords: [38.6742, -77.9997], popup: "Day 6" },
            { coords: [38.7192, -77.8045], popup: "Day 7" },
            { coords: [38.8353, -77.6779], popup: "Day 8" },
            { coords: [38.9155, -77.5565], popup: "Day 9" },
            { coords: [38.8743, -77.378], popup: "Day 10" },
            { coords: [38.88095088818004, -77.17101850129019], popup: "Day 11" },
            { coords: [38.89766, -77.03543], popup: "<b>Washington, D.C.</b><br>We've arrived!!<br>125-150 marchers", icon: customIcon }
        ];

        // Loop through markers and add them to the map
        markers.forEach(function(marker) {
            var options = {};
            if (marker.icon) {
                options.icon = marker.icon;
            }
            var markerObj = L.marker(marker.coords, options).addTo(map).bindPopup(marker.popup);

            // Open the popup for the "Day 11" marker automatically
            if (marker.popup.includes("<b>Day 11</b><br>Current location<br>40 marchers")) {
                markerObj.openPopup();
            }
        });
    </script>
</body>
</html>
